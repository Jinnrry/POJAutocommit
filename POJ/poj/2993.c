#include<stdio.h>
int main()
{
	int i,j,k;
	char s[8][40],t[40]={"+---+---+---+---+---+---+---+---+"},r[100];
	for (i=0;i<8;i++)
	{
		for (j=0;j<34;j+=4)
			s[i][j]='|';
		for (j=1+(i%2)*4;j<34;j+=8)
		{
			s[i][j]='.';
			s[i][j+1]='.';
			s[i][j+2]='.';
		}
		for (j=1+((i+1)%2)*4;j<34;j+=8)
		{
			s[i][j]=':';
			s[i][j+1]=':';
			s[i][j+2]=':';
		}
		s[i][33]='\0';
	}
	gets(r);
	for (i=6;r[i]!='\0';i++)
	{
		if (r[i]=='K' || r[i]=='Q' || r[i]=='R' || r[i]=='B' || r[i]=='N')
		{
			k=(r[i+1]-'a')*4+2;
			j='8'-r[i+2];
			s[j][k]=r[i];
			i+=2;
		}
		else if (r[i]==',' && r[i+1]>='a' && r[i+1]<='h')
		{
			k=(r[i+1]-'a')*4+2;
			j='8'-r[i+2];
			s[j][k]='P';
			i+=2;
		}
	}
	gets(r);
	for (i=6;r[i]!='\0';i++)
	{
		if (r[i]=='K' || r[i]=='Q' || r[i]=='R' || r[i]=='B' || r[i]=='N')
		{
			k=(r[i+1]-'a')*4+2;
			j='8'-r[i+2];
			s[j][k]=r[i]-'A'+'a';
			i+=2;
		}
		else if (r[i]==',' && r[i+1]>='a' && r[i+1]<='h')
		{
			k=(r[i+1]-'a')*4+2;
			j='8'-r[i+2];
			s[j][k]='p';
			i+=2;
		}
	}
	for (i=0;i<8;i++)
		printf("%s\n%s\n",t,s[i]);
	printf("%s\n",t);
	return 0;
}
